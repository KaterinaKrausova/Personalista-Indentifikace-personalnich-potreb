<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HR V√Ωukov√© V√Ωzvy - Kompetenƒçn√≠ Modely & Popisy Pozic</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 2em;
            margin-bottom: 10px;
        }

        .header p {
            opacity: 0.9;
            font-size: 1.1em;
        }

        .progress-bar {
            background: rgba(255,255,255,0.2);
            height: 8px;
            border-radius: 10px;
            margin-top: 20px;
            overflow: hidden;
        }

        .progress-fill {
            background: #4ade80;
            height: 100%;
            width: 0%;
            transition: width 0.5s ease;
        }

        .score-board {
            display: flex;
            justify-content: space-around;
            padding: 20px;
            background: #f8fafc;
            border-bottom: 2px solid #e2e8f0;
        }

        .score-item {
            text-align: center;
        }

        .score-item .label {
            color: #64748b;
            font-size: 0.9em;
            margin-bottom: 5px;
        }

        .score-item .value {
            font-size: 1.8em;
            font-weight: bold;
            color: #667eea;
        }

        .challenges {
            padding: 30px;
        }

        .challenge {
            background: #f8fafc;
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 20px;
            border: 2px solid #e2e8f0;
            transition: all 0.3s ease;
        }

        .challenge:hover {
            border-color: #667eea;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.1);
        }

        .challenge.completed {
            background: #f0fdf4;
            border-color: #4ade80;
        }

        .challenge-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .challenge-title {
            font-size: 1.3em;
            color: #1e293b;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .challenge-badge {
            background: #667eea;
            color: white;
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.8em;
            font-weight: bold;
        }

        .challenge-description {
            color: #475569;
            line-height: 1.6;
            margin-bottom: 20px;
        }

        .task-area {
            background: white;
            border-radius: 10px;
            padding: 20px;
            margin-top: 15px;
        }

        .option {
            background: white;
            border: 2px solid #e2e8f0;
            border-radius: 10px;
            padding: 15px;
            margin: 10px 0;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .option:hover {
            border-color: #667eea;
            transform: translateX(5px);
        }

        .option.selected {
            background: #ede9fe;
            border-color: #667eea;
        }

        .option.correct {
            background: #f0fdf4;
            border-color: #4ade80;
        }

        .option.incorrect {
            background: #fef2f2;
            border-color: #ef4444;
        }

        .drag-item {
            background: #667eea;
            color: white;
            padding: 12px 20px;
            border-radius: 8px;
            margin: 8px;
            display: inline-block;
            cursor: move;
            transition: all 0.3s ease;
        }

        .drag-item:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.3);
        }

        .drop-zone {
            min-height: 80px;
            border: 2px dashed #cbd5e1;
            border-radius: 10px;
            padding: 15px;
            margin: 10px 0;
            background: #f8fafc;
        }

        .drop-zone.drag-over {
            background: #ede9fe;
            border-color: #667eea;
        }

        .drop-zone-label {
            font-weight: bold;
            color: #475569;
            margin-bottom: 10px;
        }

        .input-field {
            width: 100%;
            padding: 12px;
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            font-size: 1em;
            margin: 10px 0;
            font-family: inherit;
        }

        .input-field:focus {
            outline: none;
            border-color: #667eea;
        }

        textarea.input-field {
            min-height: 100px;
            resize: vertical;
        }

        .btn {
            background: #667eea;
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 8px;
            font-size: 1em;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: bold;
        }

        .btn:hover {
            background: #5568d3;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.3);
        }

        .btn:disabled {
            background: #cbd5e1;
            cursor: not-allowed;
            transform: none;
        }

        .feedback {
            margin-top: 15px;
            padding: 15px;
            border-radius: 8px;
            display: none;
        }

        .feedback.show {
            display: block;
        }

        .feedback.success {
            background: #f0fdf4;
            border: 2px solid #4ade80;
            color: #166534;
        }

        .feedback.error {
            background: #fef2f2;
            border: 2px solid #ef4444;
            color: #991b1b;
        }

        .feedback.info {
            background: #eff6ff;
            border: 2px solid #3b82f6;
            color: #1e3a8a;
        }

        .emoji {
            font-size: 1.5em;
            margin-right: 5px;
        }

        .tip-box {
            background: #fef3c7;
            border-left: 4px solid #f59e0b;
            padding: 15px;
            margin: 15px 0;
            border-radius: 5px;
        }

        .tip-box strong {
            color: #92400e;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üéØ HR V√Ωukov√© V√Ωzvy</h1>
            <p>Kompetenƒçn√≠ modely & Popisy pracovn√≠ch pozic</p>
            <div class="progress-bar">
                <div class="progress-fill" id="progressBar"></div>
            </div>
        </div>

        <div class="score-board">
            <div class="score-item">
                <div class="label">Dokonƒçen√© v√Ωzvy</div>
                <div class="value" id="completedCount">0/5</div>
            </div>
            <div class="score-item">
                <div class="label">Z√≠skan√© body</div>
                <div class="value" id="totalPoints">0</div>
            </div>
            <div class="score-item">
                <div class="label">Level</div>
                <div class="value" id="level">üå± Zaƒç√°teƒçn√≠k</div>
            </div>
        </div>

        <div class="challenges">
            <!-- Challenge 1: Detektivn√≠ pr√°ce -->
            <div class="challenge" id="challenge1">
                <div class="challenge-header">
                    <div class="challenge-title">
                        <span class="emoji">üïµÔ∏è</span>
                        <span>V√Ωzva 1: Detektivn√≠ pr√°ce - Co dƒõl√° marketingov√Ω mana≈æer?</span>
                    </div>
                    <div class="challenge-badge">20 bod≈Ø</div>
                </div>
                <div class="challenge-description">
                    Dostali jste √∫kol vytvo≈ôit popis pozice pro marketingov√©ho mana≈æera. V kancel√°≈ôi jste na≈°li tyhle pozn√°mky od r≈Øzn√Ωch lid√≠. Kter√© z nich jsou skuteƒçnƒõ <strong>pracovn√≠ √∫koly</strong> a kter√© jsou jen <strong>osobn√≠ vlastnosti</strong>?
                </div>
                <div class="task-area">
                    <div class="drop-zone-label">üéØ Pracovn√≠ √∫koly (p≈ôet√°hnƒõte sem):</div>
                    <div class="drop-zone" id="tasks-zone"></div>
                    
                    <div class="drop-zone-label">üíé Osobn√≠ vlastnosti (p≈ôet√°hnƒõte sem):</div>
                    <div class="drop-zone" id="traits-zone"></div>
                    
                    <div style="margin-top: 20px;">
                        <div class="drop-zone-label">üìã K rozt≈ô√≠dƒõn√≠:</div>
                        <div id="items-pool">
                            <span class="drag-item" draggable="true" data-type="task">Tvorba marketingov√Ωch kampan√≠</span>
                            <span class="drag-item" draggable="true" data-type="trait">Kreativn√≠ my≈°len√≠</span>
                            <span class="drag-item" draggable="true" data-type="task">Spr√°va soci√°ln√≠ch m√©di√≠</span>
                            <span class="drag-item" draggable="true" data-type="trait">Komunikativnost</span>
                            <span class="drag-item" draggable="true" data-type="task">Anal√Ωza tr≈æn√≠ch trend≈Ø</span>
                            <span class="drag-item" draggable="true" data-type="trait">Schopnost pracovat pod tlakem</span>
                        </div>
                    </div>
                    
                    <button class="btn" onclick="checkChallenge1()" style="margin-top: 20px;">Zkontrolovat</button>
                    <div class="feedback" id="feedback1"></div>
                </div>
            </div>

            <!-- Challenge 2: Kompetenƒçn√≠ puzzle -->
            <div class="challenge" id="challenge2">
                <div class="challenge-header">
                    <div class="challenge-title">
                        <span class="emoji">üß©</span>
                        <span>V√Ωzva 2: Kompetenƒçn√≠ puzzle - Slo≈æte si sv√©ho IT specialistu</span>
                    </div>
                    <div class="challenge-badge">25 bod≈Ø</div>
                </div>
                <div class="challenge-description">
                    M√°te vytvo≈ôit kompetenƒçn√≠ model pro IT supportov√©ho specialistu. Vyberte <strong>3 hlavn√≠ kompetence</strong>, kter√© by tato pozice mƒõla m√≠t. Pozor na past - ne v≈°echny kompetence jsou pro tuto roli vhodn√©!
                </div>
                <div class="tip-box">
                    <strong>üí° Tip:</strong> Myslete na to, co IT support skuteƒçnƒõ dƒõl√° - ≈ôe≈°√≠ technick√© probl√©my u≈æivatel≈Ø, komunikuje s lidmi a pracuje s r≈Øzn√Ωmi syst√©my.
                </div>
                <div class="task-area">
                    <div class="option" onclick="toggleOption(this, 'c2-1')">
                        <strong>Technick√° expert√≠za</strong> - Schopnost diagnostikovat a ≈ôe≈°it IT probl√©my
                    </div>
                    <div class="option" onclick="toggleOption(this, 'c2-2')">
                        <strong>Kreativn√≠ design</strong> - Tvorba grafick√Ωch n√°vrh≈Ø a marketingov√Ωch materi√°l≈Ø
                    </div>
                    <div class="option" onclick="toggleOption(this, 'c2-3')">
                        <strong>Z√°kaznick√° komunikace</strong> - Schopnost vysvƒõtlit technick√© vƒõci srozumitelnƒõ
                    </div>
                    <div class="option" onclick="toggleOption(this, 'c2-4')">
                        <strong>Finanƒçn√≠ anal√Ωza</strong> - Pr√°ce s rozpoƒçty a finanƒçn√≠mi v√Ωkazy
                    </div>
                    <div class="option" onclick="toggleOption(this, 'c2-5')">
                        <strong>≈òe≈°en√≠ probl√©m≈Ø</strong> - Analytick√© my≈°len√≠ a systematick√Ω p≈ô√≠stup k ≈ôe≈°en√≠
                    </div>
                    <div class="option" onclick="toggleOption(this, 'c2-6')">
                        <strong>Veden√≠ t√Ωmu</strong> - Management a delegov√°n√≠ √∫kol≈Ø pod≈ô√≠zen√Ωm
                    </div>
                    
                    <button class="btn" onclick="checkChallenge2()" style="margin-top: 20px;">Zkontrolovat v√Ωbƒõr</button>
                    <div class="feedback" id="feedback2"></div>
                </div>
            </div>

            <!-- Challenge 3: Rychl√° diagn√≥za -->
            <div class="challenge" id="challenge3">
                <div class="challenge-header">
                    <div class="challenge-title">
                        <span class="emoji">‚ö°</span>
                        <span>V√Ωzva 3: Rychl√° diagn√≥za - Co je ≈°patnƒõ?</span>
                    </div>
                    <div class="challenge-badge">30 bod≈Ø</div>
                </div>
                <div class="challenge-description">
                    Kolega v√°m p≈ôinesl popis pozice "√öƒçetn√≠". P≈ôeƒçtƒõte si ho a najdƒõte <strong>3 chyby</strong>, kter√© by v popisu pozice b√Ωt nemƒõly:
                </div>
                <div class="task-area">
                    <div style="background: #f1f5f9; padding: 20px; border-radius: 10px; margin: 15px 0; line-height: 1.8;">
                        <strong>POPIS POZICE: √öƒåETN√ç</strong><br><br>
                        <em>"Hled√°me nad≈°en√©ho √∫ƒçetn√≠ho, kter√Ω mus√≠ b√Ωt mu≈æ ve vƒõku 25-35 let. Kandid√°t mus√≠ b√Ωt perfekcionista, kter√Ω nikdy nedƒõl√° chyby. Bude odpovƒõdn√Ω za veden√≠ √∫ƒçetnictv√≠, zpracov√°n√≠ faktur a p≈ô√≠pravu da≈àov√Ωch p≈ôizn√°n√≠. Vy≈æadujeme absolutn√≠ oddanost firmƒõ a ochotu pracovat i o v√≠kendech bez n√°roku na volno. Plat 25 000 Kƒç mƒõs√≠ƒçnƒõ."</em>
                    </div>
                    
                    <div style="margin-top: 20px;">
                        <label style="font-weight: bold; display: block; margin-bottom: 10px;">Napi≈°te 3 chyby, kter√© jste na≈°li:</label>
                        <input type="text" class="input-field" id="error1" placeholder="Chyba 1...">
                        <input type="text" class="input-field" id="error2" placeholder="Chyba 2...">
                        <input type="text" class="input-field" id="error3" placeholder="Chyba 3...">
                    </div>
                    
                    <button class="btn" onclick="checkChallenge3()" style="margin-top: 20px;">Odeslat odpovƒõdi</button>
                    <div class="feedback" id="feedback3"></div>
                </div>
            </div>

            <!-- Challenge 4: Simul√°tor rozhovoru -->
            <div class="challenge" id="challenge4">
                <div class="challenge-header">
                    <div class="challenge-title">
                        <span class="emoji">üé≠</span>
                        <span>V√Ωzva 4: Simul√°tor rozhovoru - Zjistƒõte pot≈ôeby oddƒõlen√≠</span>
                    </div>
                    <div class="challenge-badge">35 bod≈Ø</div>
                </div>
                <div class="challenge-description">
                    Vedouc√≠ prodeje si k v√°m p≈ôi≈°el stƒõ≈æovat: "Pot≈ôebuju nƒõkoho nov√©ho do t√Ωmu, lidi to nest√≠haj√≠!" Va≈°√≠m √∫kolem je polo≈æit <strong>spr√°vn√© ot√°zky</strong>, abyste zjistili, jakou pozici skuteƒçnƒõ pot≈ôebuje. Vyberte 4 nejlep≈°√≠ ot√°zky:
                </div>
                <div class="task-area">
                    <div class="option" onclick="toggleOption(this, 'c4-1')">
                        Jak√© konkr√©tn√≠ √∫koly moment√°lnƒõ nest√≠h√°te?
                    </div>
                    <div class="option" onclick="toggleOption(this, 'c4-2')">
                        Kolik chcete za tu pozici platit?
                    </div>
                    <div class="option" onclick="toggleOption(this, 'c4-3')">
                        Jak√© dovednosti by ide√°ln√≠ kandid√°t mƒõl m√≠t?
                    </div>
                    <div class="option" onclick="toggleOption(this, 'c4-4')">
                        Kdy pot≈ôebujete, aby ten ƒçlovƒõk nastoupil?
                    </div>
                    <div class="option" onclick="toggleOption(this, 'c4-5')">
                        Komu by nov√Ω zamƒõstnanec p≈ô√≠mo zodpov√≠dal?
                    </div>
                    <div class="option" onclick="toggleOption(this, 'c4-6')">
                        Jak√Ω je v√°≈° obl√≠ben√Ω typ osobnosti?
                    </div>
                    <div class="option" onclick="toggleOption(this, 'c4-7')">
                        Jak√© jsou hlavn√≠ c√≠le oddƒõlen√≠ pro p≈ô√≠≈°t√≠ rok?
                    </div>
                    
                    <button class="btn" onclick="checkChallenge4()" style="margin-top: 20px;">Zkontrolovat ot√°zky</button>
                    <div class="feedback" id="feedback4"></div>
                </div>
            </div>

            <!-- Challenge 5: Fin√°ln√≠ mise -->
            <div class="challenge" id="challenge5">
                <div class="challenge-header">
                    <div class="challenge-title">
                        <span class="emoji">üèÜ</span>
                        <span>V√Ωzva 5: Fin√°ln√≠ mise - Vytvo≈ôte sv≈Øj prvn√≠ popis pozice</span>
                    </div>
                    <div class="challenge-badge">40 bod≈Ø</div>
                </div>
                <div class="challenge-description">
                    Gratulujeme! Do≈°li jste a≈æ sem. Teƒè je ƒças uk√°zat, co jste se nauƒçili. Vytvo≈ôte z√°kladn√≠ kostru popisu pozice pro <strong>"Asistent/ka z√°kaznick√©ho servisu"</strong>.
                </div>
                <div class="tip-box">
                    <strong>üí° Nezapome≈àte:</strong> Dobr√Ω popis pozice obsahuje n√°zev, hlavn√≠ odpovƒõdnosti, pot≈ôebn√© kompetence a nen√≠ diskriminuj√≠c√≠.
                </div>
                <div class="task-area">
                    <label style="font-weight: bold; display: block; margin: 15px 0 5px 0;">N√°zev pozice:</label>
                    <input type="text" class="input-field" id="jobTitle" value="Asistent/ka z√°kaznick√©ho servisu" readonly style="background: #f1f5f9;">
                    
                    <label style="font-weight: bold; display: block; margin: 15px 0 5px 0;">Vypi≈°te 3 hlavn√≠ odpovƒõdnosti:</label>
                    <textarea class="input-field" id="responsibilities" placeholder="Nap≈ô.: 1. Komunikace se z√°kazn√≠ky...&#10;2. ...&#10;3. ..."></textarea>
                    
                    <label style="font-weight: bold; display: block; margin: 15px 0 5px 0;">Vypi≈°te 3 kl√≠ƒçov√© kompetence:</label>
                    <textarea class="input-field" id="competencies" placeholder="Nap≈ô.: 1. Komunikaƒçn√≠ dovednosti...&#10;2. ...&#10;3. ..."></textarea>
                    
                    <button class="btn" onclick="checkChallenge5()" style="margin-top: 20px;">Odeslat popis pozice</button>
                    <div class="feedback" id="feedback5"></div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Game state
        let gameState = {
            completed: new Set(),
            points: 0,
            selectedOptions: {}
        };

        // Drag and drop functionality
        let draggedElement = null;

        document.addEventListener('DOMContentLoaded', () => {
            setupDragAndDrop();
        });

        function setupDragAndDrop() {
            const items = document.querySelectorAll('.drag-item');
            const zones = document.querySelectorAll('.drop-zone');

            items.forEach(item => {
                item.addEventListener('dragstart', (e) => {
                    draggedElement = e.target;
                    e.target.style.opacity = '0.5';
                });

                item.addEventListener('dragend', (e) => {
                    e.target.style.opacity = '1';
                });
            });

            zones.forEach(zone => {
                zone.addEventListener('dragover', (e) => {
                    e.preventDefault();
                    zone.classList.add('drag-over');
                });

                zone.addEventListener('dragleave', () => {
                    zone.classList.remove('drag-over');
                });

                zone.addEventListener('drop', (e) => {
                    e.preventDefault();
                    zone.classList.remove('drag-over');
                    if (draggedElement) {
                        zone.appendChild(draggedElement);
                    }
                });
            });
        }

        function toggleOption(element, id) {
            if (element.classList.contains('correct') || element.classList.contains('incorrect')) {
                return; // Don't allow changes after checking
            }
            element.classList.toggle('selected');
        }

        function checkChallenge1() {
            const tasksZone = document.getElementById('tasks-zone');
            const traitsZone = document.getElementById('traits-zone');
            const feedback = document.getElementById('feedback1');

            const tasksItems = Array.from(tasksZone.children);
            const traitsItems = Array.from(traitsZone.children);

            let correct = true;
            let score = 0;

            tasksItems.forEach(item => {
                if (item.dataset.type === 'task') {
                    score += 3;
                } else {
                    correct = false;
                }
            });

            traitsItems.forEach(item => {
                if (item.dataset.type === 'trait') {
                    score += 3;
                } else {
                    correct = false;
                }
            });

            if (tasksItems.length === 3 && traitsItems.length === 3 && correct) {
                feedback.className = 'feedback success show';
                feedback.innerHTML = '<span class="emoji">üéâ</span><strong>V√Ωbornƒõ!</strong> Perfektnƒõ jste rozli≈°ili pracovn√≠ √∫koly od osobn√≠ch vlastnost√≠. To je z√°klad pro tvorbu kvalitn√≠ho popisu pozice! +20 bod≈Ø';
                completeChallenge('challenge1', 20);
            } else if (score > 12) {
                feedback.className = 'feedback info show';
                feedback.innerHTML = '<span class="emoji">üëç</span><strong>Skoro!</strong> M√°te to dob≈ôe rozmy≈°len√©, ale zkuste je≈°tƒõ jednou. Pracovn√≠ √∫koly jsou konkr√©tn√≠ ƒçinnosti, vlastnosti jsou to, JAK je ƒçlovƒõk vykon√°v√°.';
            } else {
                feedback.className = 'feedback error show';
                feedback.innerHTML = '<span class="emoji">ü§î</span><strong>Zkuste to znovu!</strong> Tip: Pracovn√≠ √∫koly odpov√≠daj√≠ na ot√°zku "Co bude dƒõlat?", osobn√≠ vlastnosti na "Jak√Ω by mƒõl b√Ωt?"';
            }
        }

        function checkChallenge2() {
            const options = document.querySelectorAll('#challenge2 .option');
            const selected = Array.from(options).filter(opt => opt.classList.contains('selected'));
            const feedback = document.getElementById('feedback2');

            if (selected.length !== 3) {
                feedback.className = 'feedback error show';
                feedback.innerHTML = '<span class="emoji">‚ö†Ô∏è</span>Vyberte pros√≠m p≈ôesnƒõ 3 kompetence!';
                return;
            }

            const correctIds = ['c2-1', 'c2-3', 'c2-5'];
            const selectedIds = Array.from(selected).map(opt => opt.getAttribute('onclick').match(/'([^']+)'/)[1]);

            const allCorrect = correctIds.every(id => selectedIds.includes(id)) && selectedIds.length === 3;

            options.forEach(opt => {
                const id = opt.getAttribute('onclick').match(/'([^']+)'/)[1];
                if (correctIds.includes(id)) {
                    opt.classList.add('correct');
                } else if (opt.classList.contains('selected')) {
                    opt.classList.add('incorrect');
                }
            });

            if (allCorrect) {
                feedback.className = 'feedback success show';
                feedback.innerHTML = '<span class="emoji">üåü</span><strong>Skvƒõl√° pr√°ce!</strong> Vybrali jste p≈ôesnƒõ ty kompetence, kter√© IT support skuteƒçnƒõ pot≈ôebuje: technickou expert√≠zu, komunikaci se z√°kazn√≠ky a schopnost ≈ôe≈°it probl√©my. +25 bod≈Ø';
                completeChallenge('challenge2', 25);
            } else {
                feedback.className = 'feedback info show';
                feedback.innerHTML = '<span class="emoji">üí≠</span><strong>Je≈°tƒõ to nen√≠ ono.</strong> Zelen√© jsou spr√°vn√© odpovƒõdi. ƒåerven√© jste vybrali ≈°patnƒõ. IT support prim√°rnƒõ ≈ôe≈°√≠ technick√© probl√©my a pom√°h√° u≈æivatel≈Øm - kter√° kompetence k tomu nepat≈ô√≠?';
            }
        }

        function checkChallenge3() {
            const error1 = document.getElementById('error1').value.toLowerCase();
            const error2 = document.getElementById('error2').value.toLowerCase();
            const error3 = document.getElementById('error3').value.toLowerCase();
            const feedback = document.getElementById('feedback3');

            const allErrors = (error1 + ' ' + error2 + ' ' + error3).toLowerCase();
            
            let foundErrors = 0;
            const errorTypes = {
                discrimination: false,
                unrealistic: false,
                illegal: false
            };

            // Check for discrimination (gender, age)
            if (allErrors.includes('mu≈æ') || allErrors.includes('pohlav√≠') || allErrors.includes('vƒõk') || 
                allErrors.includes('25-35') || allErrors.includes('diskriminace') || allErrors.includes('gender')) {
                errorTypes.discrimination = true;
                foundErrors++;
            }

            // Check for unrealistic expectations
            if (allErrors.includes('perfekcionista') || allErrors.includes('nikdy') || allErrors.includes('chyb') ||
                allErrors.includes('nere√°ln√©') || allErrors.includes('nerealistick')) {
                errorTypes.unrealistic = true;
                foundErrors++;
            }

            // Check for illegal work conditions or low salary
            if (allErrors.includes('v√≠kend') || allErrors.includes('volno') || allErrors.includes('plat') || 
                allErrors.includes('25000') || allErrors.includes('25 000') || allErrors.includes('n√≠zk') ||
                allErrors.includes('mzda') || allErrors.includes('oddanost')) {
                errorTypes.illegal = true;
                foundErrors++;
            }

            if (foundErrors >= 3 || (foundErrors >= 2 && (error1 && error2 && error3))) {
                feedback.className = 'feedback success show';
                feedback.innerHTML = '<span class="emoji">üéØ</span><strong>V√Ωbornƒõ!</strong> Na≈°li jste hlavn√≠ probl√©my:<br>' +
                    '1Ô∏è‚É£ Diskriminace podle pohlav√≠ a vƒõku<br>' +
                    '2Ô∏è‚É£ Nerealistick√© oƒçek√°v√°n√≠ ("nikdy nedƒõl√° chyby")<br>' +
                    '3Ô∏è‚É£ Problematick√© pracovn√≠ podm√≠nky a n√≠zk√Ω plat<br>+30 bod≈Ø';
                completeChallenge('challenge3', 30);
            } else if (foundErrors >= 1) {
                feedback.className = 'feedback info show';
                feedback.innerHTML = '<span class="emoji">üîç</span><strong>Na≈°li jste nƒõco, ale ne v≈°echno!</strong> Tip: Pod√≠vejte se na po≈æadavky na pohlav√≠/vƒõk, realistick√° oƒçek√°v√°n√≠ a pracovn√≠ podm√≠nky.';
            } else {
                feedback.className = 'feedback error show';
                feedback.innerHTML = '<span class="emoji">ü§î</span><strong>Zkuste to znovu!</strong> Pod√≠vejte se pozornƒõ na: diskriminaci, realistick√° oƒçek√°v√°n√≠ a z√°konnost po≈æadavk≈Ø.';
            }
        }

        function checkChallenge4() {
            const options = document.querySelectorAll('#challenge4 .option');
            const selected = Array.from(options).filter(opt => opt.classList.contains('selected'));
            const feedback = document.getElementById('feedback4');

            if (selected.length !== 4) {
                feedback.className = 'feedback error show';
                feedback.innerHTML = '<span class="emoji">‚ö†Ô∏è</span>Vyberte pros√≠m p≈ôesnƒõ 4 ot√°zky!';
                return;
            }

            const correctIds = ['c4-1', 'c4-3', 'c4-5', 'c4-7'];
            const selectedIds = Array.from(selected).map(opt => opt.getAttribute('onclick').match(/'([^']+)'/)[1]);

            const allCorrect = correctIds.every(id => selectedIds.includes(id)) && selectedIds.length === 4;

            options.forEach(opt => {
                const id = opt.getAttribute('onclick').match(/'([^']+)'/)[1];
                if (correctIds.includes(id)) {
                    opt.classList.add('correct');
                } else if (opt.classList.contains('selected')) {
                    opt.classList.add('incorrect');
                }
            });

            if (allCorrect) {
                feedback.className = 'feedback success show';
                feedback.innerHTML = '<span class="emoji">üé™</span><strong>Perfektn√≠ v√Ωbƒõr ot√°zek!</strong> Polo≈æili jste p≈ôesnƒõ ty ot√°zky, kter√© v√°m pomohou pochopit skuteƒçn√© pot≈ôeby oddƒõlen√≠ a vytvo≈ôit relevantn√≠ popis pozice. +35 bod≈Ø';
                completeChallenge('challenge4', 35);
            } else {
                feedback.className = 'feedback info show';
                feedback.innerHTML = '<span class="emoji">üìù</span><strong>Skoro!</strong> Zelen√© ot√°zky jsou ty spr√°vn√©. Zamƒõ≈ôte se na ot√°zky, kter√© zji≈°≈•uj√≠ konkr√©tn√≠ pot≈ôeby, kompetence a kontext pozice - ne osobn√≠ preference nebo administrativn√≠ detaily.';
            }
        }

        function checkChallenge5() {
            const responsibilities = document.getElementById('responsibilities').value.trim();
            const competencies = document.getElementById('competencies').value.trim();
            const feedback = document.getElementById('feedback5');

            if (!responsibilities || !competencies) {
                feedback.className = 'feedback error show';
                feedback.innerHTML = '<span class="emoji">‚ö†Ô∏è</span>Vypl≈àte pros√≠m obƒõ pole!';
                return;
            }

            if (responsibilities.length < 50 || competencies.length < 50) {
                feedback.className = 'feedback info show';
                feedback.innerHTML = '<span class="emoji">üìù</span><strong>P≈ôidejte v√≠ce detail≈Ø!</strong> Zkuste napsat konkr√©tnƒõj≈°√≠ a podrobnƒõj≈°√≠ odpovƒõdnosti a kompetence.';
                return;
            }

            // Simple check for discriminatory language
            const combined = (responsibilities + ' ' + competencies).toLowerCase();
            if (combined.includes('mu≈æ') || combined.includes('≈æena') || combined.includes('mlad√Ω') || 
                combined.includes('vƒõk') || combined.match(/\d{2}-\d{2}/)) {
                feedback.className = 'feedback error show';
                feedback.innerHTML = '<span class="emoji">‚õî</span><strong>Pozor na diskriminaci!</strong> V popisu pozice se vyhnƒõte zm√≠nk√°m o pohlav√≠, vƒõku nebo jin√Ωm diskriminaƒçn√≠m krit√©ri√≠m.';
                return;
            }

            feedback.className = 'feedback success show';
            feedback.innerHTML = '<span class="emoji">üèÜ</span><strong>Gratulujeme! Dokonƒçili jste v≈°echny v√Ωzvy!</strong><br><br>' +
                'Vytvo≈ôili jste sv≈Øj prvn√≠ popis pozice! I kdy≈æ to nen√≠ perfektn√≠, m√°te solidn√≠ z√°klad. V praxi byste tento popis je≈°tƒõ konzultovali s vedouc√≠m oddƒõlen√≠ a up≈ôesnili detaily.<br><br>' +
                '<strong>Nauƒçili jste se:</strong><br>' +
                '‚úÖ Rozli≈°ovat √∫koly a vlastnosti<br>' +
                '‚úÖ Identifikovat kl√≠ƒçov√© kompetence<br>' +
                '‚úÖ Vyh√Ωbat se diskriminaci<br>' +
                '‚úÖ Kl√°st spr√°vn√© ot√°zky<br>' +
                '‚úÖ Vytvo≈ôit z√°kladn√≠ popis pozice<br><br>' +
                '+40 bod≈Ø a titul <strong>HR Expert</strong>! üåü';
            completeChallenge('challenge5', 40);
        }

        function completeChallenge(challengeId, points) {
            if (!gameState.completed.has(challengeId)) {
                gameState.completed.add(challengeId);
                gameState.points += points;
                document.getElementById(challengeId).classList.add('completed');
                updateScoreBoard();
            }
        }

        function updateScoreBoard() {
            const total = 5;
            const completed = gameState.completed.size;
            const percentage = (completed / total) * 100;

            document.getElementById('completedCount').textContent = `${completed}/${total}`;
            document.getElementById('totalPoints').textContent = gameState.points;
            document.getElementById('progressBar').style.width = percentage + '%';

            // Update level
            let level = 'üå± Zaƒç√°teƒçn√≠k';
            if (gameState.points >= 120) level = 'üèÜ HR Expert';
            else if (gameState.points >= 80) level = '‚≠ê Pokroƒçil√Ω';
            else if (gameState.points >= 40) level = 'üìö Student';

            document.getElementById('level').textContent = level;
        }
    </script>
</body>
</html>